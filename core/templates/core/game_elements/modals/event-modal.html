{% load customtags %}
{% load static %}
{% load i18n %}

<div id="event-modal" data-open-event-modal tabindex="-1" aria-hidden="true" class="hidden fixed inset-0 modal-z-index flex justify-center 
    items-center w-full h-full bg-black/70 backdrop-blur-md animate-modal-fade">

    <!-- HOLOGRAPHIC HALO -->
    <div id="holo-ring" class="absolute inset-0 rounded-2xl pointer-events-none glow-ring"></div>

    <div id="event-modal-content" class="relative shadow-2xl md:w-[60vw] md:max-w-2xl md:h-[80vh]
            w-full h-full flex flex-col md:overflow-hidden bg-zinc-950/95 border md:border border-emerald-500/40
            md:rounded-2xl shadow-[0_0_30px_rgba(10,185,129,0.4)] transform transition-all duration-300 scale-90 opacity-0">

        <!-- HEADER -->
        <div class="flex justify-between items-center px-5 py-4
                    border-b border-emerald-500/40
                    bg-gradient-to-r from-emerald-900/60 to-zinc-900/60
                    shadow-inner">

            <h2 class="font-orbitron text-emerald-400 text-xl md:text-2xl font-bold uppercase tracking-widest flex items-center gap-3">
                <i class="fa-solid fa-mobile-screen-button text-emerald-300 animate-pulse"></i>
                {% translate "Events" %}
            </h2>

            <button id="close-event-modal"
                    class="text-emerald-400 hover:text-red-400 text-2xl transition-all duration-200">
                <i class="fa-solid fa-xmark text-lg"></i>
            </button>
        </div>

        <div class="border-t border-emerald-500/30 px-4 py-2 text-xs text-emerald-400/60 bg-zinc-900/40">
            {% translate "Chronological log of events affecting you" %}
        </div>

        <!-- BODY -->
        <div id="event-modal-log-container" class="flex-1 overflow-y-auto p-4 space-y-2 text-sm font-mono custom-scrollbar">
        </div>

        <div id="event-pagination-controls" class="flex justify-between items-center mt-4 text-emerald-300 text-xs">

            <button id="event-prev-page"
                class="px-3 py-1 z-2 border border-emerald-500/40 rounded
                    hover:bg-emerald-500/20 transition
                    disabled:opacity-30">
                ← {% translate "Previous" %}
            </button>

            <span id="event-page-indicator" class="text-emerald-400/70">
                {% translate "Page" %} 1 / 1
            </span>

            <button id="event-next-page"
                class="px-3 py-1 z-2 border border-emerald-500/40 rounded
                    hover:bg-emerald-500/20 transition
                    disabled:opacity-30">
                {% translate "Next" %} →
            </button>
            
        </div>
        <div class="shrink-0 border-t border-emerald-800/30 bg-black/40 backdrop-blur-sm flex justify-center items-center py-3">
            <button id="close-event-modal-bottom" type="button" class="font-shadow text-emerald-400 font-bold rounded-md border border-emerald-500/50 px-6 py-2.5 hover:text-emerald-200 hover:border-emerald-300 hover:scale-105 transition-all">
            {% translate "Close" %}
            </button>
        </div>
    </div>
</div>

<script type="module" src="{% static 'world_builder/modals/events_modal.js' %}" type="application/javascript"></script>
