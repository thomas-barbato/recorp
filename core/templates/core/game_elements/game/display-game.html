{% load static %}
{% load customtags %}
{% load i18n %}
{{ map_informations|json_script:"script_map_informations" }}
{{ current_player_state|json_script:"script_current_player_state" }}
{{ current_player_id|json_script:"script_current_player_id" }}
{{ player_event_logs|json_script:"script_player_event_logs" }}

<div id="button-menu" class="hidden lg:flex justify-center items-center order-1 m-2 w-1/12">
    <ul class="flex flex-col h-auto gap-6 p-4 bg-emerald-900/40 border border-emerald-400/40 rounded-md">
        <li data-tooltip-target="character-tooltip" data-tooltip-placement="right" data-modal-target="character-modal" data-modal-toggle="character-modal" class="flex flex-row h-[15px] cursor-pointer p-1 gap-2 text-emerald-400 hover:text-emerald-300 button-panel justify-center items-center z-1">
            <div class="w-auto flex items-center shadow-inner shadow-emerald-900/30 transition-transform duration-300 hover:scale-[1.25]">
                <i class="fa-solid fa-user fa-xl"></i>
            </div>
            <div id="character-tooltip" role="tooltip" class="absolute z-98 invisible inline-block px-3 py-2 text-sm font-bold transition-opacity duration-300 shadow-xs opacity-0 tooltip  text-emerald-300 bg-emerald-900 border border-[#B1F1CB] rounded-md">
                {% translate "Character" %}
                <div class="map-arrow" data-popper-arrow></div>
            </div>
        </li>
        <li data-tooltip-target="inventory-tooltip" data-tooltip-placement="right" data-modal-target="inventory-modal" data-modal-toggle="inventory-modal" class="flex flex-row h-[15px] cursor-pointer p-1 gap-2 text-emerald-400 hover:text-emerald-300 hover:border-[#B1F1CB] button-panel justify-center items-center z-1">
            <div class="w-auto flex items-center shadow-inner shadow-emerald-900/30 transition-transform duration-300 hover:scale-[1.25]">
                <i class="fa-solid fa-box fa-xl"></i>
            </div>
            <div id="inventory-tooltip" role="tooltip" class="absolute z-98 invisible inline-block px-3 py-2 text-sm font-bold transition-opacity duration-300 shadow-xs opacity-0 tooltip  text-emerald-300 bg-emerald-900 border border-[#B1F1CB] rounded-md">
                {% translate "Inventory" %}
                <div class="map-arrow" data-popper-arrow></div>
            </div>
        </li>
        <li data-tooltip-target="event-tooltip" data-tooltip-placement="right" data-modal-target="event-modal" data-modal-toggle="event-modal" class="flex flex-row h-[15px] cursor-pointer p-1 gap-2 text-emerald-400 hover:text-emerald-300 hover:border-[#B1F1CB] button-panel justify-center items-center z-1">
            <div class="w-auto flex items-center shadow-inner shadow-emerald-900/30 transition-transform duration-300 hover:scale-[1.25]">
                <i class="fa-solid fa-mobile-screen-button fa-xl"></i>
            </div>
            <div id="event-tooltip" role="tooltip" class="absolute z-98 invisible inline-block px-3 py-2 text-sm font-bold transition-opacity duration-300 shadow-xs opacity-0 tooltip  text-emerald-300 bg-emerald-900 border border-[#B1F1CB] rounded-md">
                {% translate "Events" %}
                <div class="tooltip-arrow" data-popper-arrow></div>
            </div>
        </li>
        <li data-tooltip-target="research-tooltip" data-tooltip-placement="right" data-modal-target="research-modal" data-modal-toggle="research-modal" class="flex flex-row h-[15px] cursor-pointer p-1 gap-2 text-emerald-400 hover:text-emerald-300 hover:border-[#B1F1CB] button-panel justify-center items-center z-1">
            <div class="w-auto flex items-center shadow-inner shadow-emerald-900/30 transition-transform duration-300 hover:scale-[1.25]">
                <i class="fa-solid fa-brain fa-xl"></i>
            </div>
            <div id="research-tooltip" role="tooltip" class="absolute z-98 invisible inline-block px-3 py-2 text-sm font-bold transition-opacity duration-300 shadow-xs opacity-0 tooltip  text-emerald-300 bg-emerald-900 border border-[#B1F1CB] rounded-md">
                {% translate "Research" %}
                <div class="map-arrow" data-popper-arrow></div>
            </div>
        </li>
        <li data-tooltip-target="map-tooltip" data-tooltip-placement="right" data-modal-target="map-modal" data-modal-toggle="map-modal" class="flex flex-row h-[15px] cursor-pointer p-1 gap-2 text-emerald-400 hover:text-emerald-300 hover:border-[#B1F1CB] button-panel justify-center items-center z-1">
            <div class="w-auto flex items-center shadow-inner shadow-emerald-900/30 transition-transform duration-300 hover:scale-[1.25]">
                <i class="fa-solid fa-map fa-xl"></i>
            </div>
            <div id="map-tooltip" role="tooltip" class="absolute z-98 invisible inline-block px-3 py-2 text-sm font-bold transition-opacity duration-300 shadow-xs opacity-0 tooltip  text-emerald-300 bg-emerald-900 border border-[#B1F1CB] rounded-md">
                {% translate "Map" %}
                <div class="map-arrow" data-popper-arrow></div>
            </div>
        </li>
        <li data-tooltip-target="faction-tooltip" data-tooltip-placement="right" data-modal-target="faction-modal" data-modal-toggle="faction-modal" class="flex flex-row h-[15px] cursor-pointer p-1 gap-2 text-emerald-400 hover:text-emerald-300 hover:border-[#B1F1CB] button-panel justify-center items-center z-1">
            <div class="w-auto flex items-center shadow-inner shadow-emerald-900/30 transition-transform duration-300 hover:scale-[1.25]">
                <i class="fa-solid fa-landmark fa-xl"></i>
            </div>
            <div id="faction-tooltip" role="tooltip" class="absolute z-98 invisible inline-block px-3 py-2 text-sm font-bold transition-opacity duration-300 shadow-xs opacity-0 tooltip  text-emerald-300 bg-emerald-900 border border-[#B1F1CB] rounded-md">
                {% translate "Faction" %}
                <div class="map-arrow" data-popper-arrow></div>
            </div>
        </li>
        <li data-tooltip-target="task-tooltip" data-tooltip-placement="right" data-tooltip-placement="right" data-modal-target="task-modal" data-modal-toggle="task-modal" class="flex flex-row h-[15px] cursor-pointer p-1 gap-2 text-emerald-400 hover:text-emerald-300 hover:border-[#B1F1CB] button-panel justify-center items-center z-1">
            <div class="w-auto flex items-center shadow-inner shadow-emerald-900/30 transition-transform duration-300 hover:scale-[1.25]">
                <i class="fa-solid fa-list-check fa-xl"></i>
            </div>
            <div id="task-tooltip" role="tooltip" class="absolute z-98 invisible inline-block px-3 py-2 text-sm font-bold transition-opacity duration-300 shadow-xs opacity-0 tooltip  text-emerald-300 bg-emerald-900 border border-[#B1F1CB] rounded-md">
                {% translate "Tasks" %}
                <div class="tooltip-arrow" data-popper-arrow></div>
            </div>
        </li>
        <li id="message-modal-button" data-modal-target="message-modal" data-tooltip-target="message-tooltip" data-tooltip-placement="right" class="flex flex-row h-[15px] cursor-pointer p-1 gap-2 text-emerald-400 hover:text-emerald-300 hover:border-[#B1F1CB] button-panel justify-center items-center z-1">
            <div class="w-auto flex items-center shadow-inner shadow-emerald-900/30 transition-transform duration-300 hover:scale-[1.25]">
                <i class="fa-solid fa-envelope fa-xl"></i>
            </div>
            <div id="message-tooltip" role="tooltip" class="absolute z-98 invisible inline-block px-3 py-2 text-sm font-bold transition-opacity duration-300 shadow-xs opacity-0 tooltip  text-emerald-300 bg-emerald-900 border border-[#B1F1CB] rounded-md">
                {% translate "Message" %}
                <div class="tooltip-arrow" data-popper-arrow></div>
            </div>
        </li>
        <li id="chat-modal-button" data-modal-target="chat-modal" data-tooltip-target="chat-tooltip" data-tooltip-placement="right" class="flex flex-row h-[15px] cursor-pointer p-1 gap-2 text-emerald-400 hover:text-emerald-300 hover:border-[#B1F1CB] button-panel justify-center items-center z-1">
            <div class="w-auto flex items-center shadow-inner shadow-emerald-900/30 transition-transform duration-300 hover:scale-[1.25]">
                <i class="fa-solid fa-walkie-talkie transition fa-xl"></i>
            </div>
            <div id="chat-tooltip" role="tooltip" class="absolute z-98 invisible inline-block px-3 py-2 text-sm font-bold transition-opacity duration-300 shadow-xs opacity-0 tooltip  text-emerald-300 bg-emerald-900 border border-[#B1F1CB] rounded-md">
                {% translate "Chat" %}
                <div class="tooltip-arrow" data-popper-arrow></div>
            </div>
        </li>
        <form data-tooltip-target="backHome-tooltip" data-tooltip-placement="right" method="post" action="{% url 'core:index_view' %}" class="flex flex-row h-[15px] cursor-pointer p-1 gap-2 text-emerald-400 hover:text-emerald-300 button-panel justify-center items-center logout">
            {% csrf_token %}
            <div class="w-auto flex items-center shadow-inner shadow-emerald-900/30 transition-transform duration-300 hover:scale-[1.25]">
                <i class="fa-solid fa-home fa-xl"></i>
            </div>
            <div id="backHome-tooltip" role="tooltip" class="absolute z-98 invisible inline-block px-3 py-2 text-sm font-bold transition-opacity duration-300 shadow-xs opacity-0 tooltip  text-emerald-300 bg-emerald-900 border border-[#B1F1CB] rounded-md">
                {% translate "Home" %}
                <div class="tooltip-arrow" data-popper-arrow></div>
            </div>
            <button type="submit" id="logout-btn" class="hidden"></button>
        </form>
    </ul>
</div>
<div id="map-background" class="lg:w-9/12 w-full h-full order-2 flex flex-col mx-0 lg:overflow-y-hidden overflow-x-hidden no-scrollbar mt-2 select-none lg:flex lg:justify-center lg:items-center gap-2">
    
    <!-- WRAPPER PRINCIPAL -->
    <div id="canvas-wrapper" class="relative flex border-b border-r border-emerald-400/50 lg:mb-0 mb-2">

        <!-- CASE VIDE (0,0) -->
        <div id="ui-coordinates-empty"
            class="absolute top-0 left-0 w-[32px] h-[32px]
                    text-center text-emerald-300 font-orbitron font-semibold
                    border border-emerald-400/20 bg-zinc-800/50
                    md:p-1 text-xs tracking-wider shadow-sm
                    pointer-events-none z-50"></div>

        <!-- AXE X (haut du canvas) -->
        <div id="ui-coordinates-x"
            class="absolute top-0 left-[32px] h-[32px]
                    flex flex-row gap-0 pointer-events-none z-50">
        </div>

        <!-- AXE Y (gauche du canvas) -->
        <div id="ui-coordinates-y"
            class="absolute top-[32px] left-0 w-[32px]
                    flex flex-col gap-0 pointer-events-none z-50">
        </div>

        <!-- CANVAS ZONE (décalé de 32px/32px) -->
        <div id="canvas-zone" class="absolute top-[32px] left-[32px] right-0 bottom-0 overflow-hidden">
            <canvas id="canvas-bg"></canvas>
            <canvas id="canvas-ui"></canvas>
            <canvas id="canvas-fg"></canvas>
            <canvas id="canvas-actors"></canvas>
            <canvas id="canvas-floating" style="pointer-events:none"></canvas>
        </div>
    </div>
    <div class="context-menu" id="contextMenu"></div>
    <div class="w-full flex justify-center items-center z-100 lg:order-99 order-3 sm:hidden mb-3" dir="ltr" id="mobile-cross">
        <div class="flex w-full justify-center gap-2 flex-col justify-center items-center">
            <div class="flex w-full justify-center items-center gap-2">
                <!-- LEFT COLUMN -->
                <div class="w-[20vw] h-[20vh] flex flex-col rounded-2xl shadow-inner backdrop-blur-sm transition-all duration-300">
                    <button type="button" class="flex-1 w-full relative" id="top-left">
                        <img src="{% static 'ux/cancel_icon.svg' %}" class="w-[38px] h-[38px] inset-center opacity-80 hover:opacity-100 transition-all duration-300"/>
                    </button>
                    <button type="button" class="flex-1 w-full relative active:bg-emerald-500/30 bg-gray-900/40 border-t border-[#B1F1CB]/40 direction-arrow rounded hover:bg-emerald-400/10 transition-all duration-300" id="move-left">
                        <i class="fa-solid fa-left-long fa-2x text-emerald-400 inset-center arrow-icon fa-lg drop-shadow-[0_0_6px_#34d399] transition-transform duration-200 active:scale-90"></i>
                    </button>
                    <button type="button" class="flex-1 w-full relative" id="top-right">
                        <i class="text-emerald-400 absolute bottom-0 fa-lg"></i>
                    </button>
                </div>

                <!-- CENTER COLUMN -->
                <div class="w-[20vw] h-[20vh] flex flex-col rounded-2xl shadow-inner shadow-emerald-900/30 backdrop-blur-sm transition-all duration-300">
                    <button type="button" class="flex-1 w-full relative active:bg-emerald-500/30 bg-gray-900/40 border-b border-[#B1F1CB]/40 direction-arrow rounded-t hover:bg-emerald-400/10 transition-all duration-300" id="move-top">
                        <i class="fa-solid fa-up-long fa-2x text-emerald-400 inset-center arrow-icon fa-lg drop-shadow-[0_0_6px_#34d399] transition-transform duration-200 active:scale-90"></i>
                    </button>
                    <button type="button" class="flex-1 w-full relative bg-gray-900/60 border-y border-[#B1F1CB]/40 active:bg-emerald-600/40 hover:bg-emerald-400/10 transition-all duration-300" id="center">
                        <i class="fa-solid fa-location-crosshairs fa-2x text-emerald-400 inset-center arrow-icon fa-lg drop-shadow-[0_0_6px_#34d399]"></i>
                    </button>
                    <button type="button" class="flex-1 w-full relative active:bg-emerald-500/30 bg-gray-900/40 border-t border-[#B1F1CB]/40 direction-arrow rounded-b hover:bg-emerald-400/10 transition-all duration-300" id="move-bottom">
                        <i class="fa-solid fa-down-long fa-2x text-emerald-400 inset-center arrow-icon fa-lg drop-shadow-[0_0_6px_#34d399] transition-transform duration-200 active:scale-90"></i>
                    </button>
                </div>
                <!-- RIGHT COLUMN -->
                <div class="w-[20vw] h-[20vh] flex flex-col rounded-2xl shadow-inner backdrop-blur-sm transition-all duration-300" dir="rtl">
                    <button type="button" class="flex-1 w-full relative">
                        <i class="text-emerald-400 absolute top-0 fa-lg"></i>
                    </button>
                    <button type="button" class="flex-1 w-full relative active:bg-emerald-500/30 bg-gray-900/40 border-t border-[#B1F1CB]/40 direction-arrow rounded hover:bg-emerald-400/10 transition-all duration-300" id="move-right">
                        <i class="fa-solid fa-right-long fa-2x text-emerald-400 inset-center arrow-icon fa-lg drop-shadow-[0_0_6px_#34d399] transition-transform duration-200 active:scale-90"></i>
                    </button>
                    <button type="button" class="flex-1 w-full relative">
                        <i class="text-emerald-400 absolute bottom-0 fa-lg"></i>
                    </button>
                </div>
            </div>
            <fieldset id="events-mobile-log" class="w-[95vw] border border-emerald-400/40 rounded-md bg-emerald-900/30 p-3 shadow-inner shadow-emerald-900/30 flex flex-col gap-1 overflow-y-auto min-h-[200px] max-h-[200px] text-xs font-mono text-emerald-300 thin-semi-transparent-scrollbar">
                <legend class="text-sm uppercase tracking-wider font-bold text-emerald-300 bg-emerald-950/60 border border-emerald-400/40 rounded-md px-2 py-1 shadow-sm">
                    {% translate "Events Logs" %}
                </legend>
                <ul id="player-event-mobile-container" class="flex flex-col gap-0.5">
                </ul>
            </fieldset>
        </div>
    </div>
</div>
<div id="player-infos" class="flex z-20 lg:inline hidden order-3 w-2/12 h-auto my-2 mx-2 no-scrollbar bg-emerald-900/20 backdrop-blur-md border border-emerald-400/20 rounded-2xl shadow-lg shadow-emerald-900/40 overflow-y-auto transition-all duration-500 ease-out animate-fade-in">
    <div id="player-info-item-container" class="w-full flex flex-col items-center justify-center gap-4 p-4 text-sm thin-semi-transparent-scrollbar">
        

        <!-- STATISTICS -->
        <fieldset id="statistics-fieldset" class="w-full border border-emerald-400/40 rounded-xl bg-emerald-900/30 p-3 shadow-inner shadow-emerald-900/30 flex flex-col gap-3 min-h-[100px] select-none">
            <legend class="text-sm uppercase tracking-wider font-orbitron font-bold text-emerald-300 bg-emerald-950/60 border border-emerald-400/40 rounded-md px-2 py-1 shadow-sm">
                {% translate "Statistics" %}
            </legend>

            <!-- Each stat block -->
            <div id="container-basic-stats" class="flex border border-[#B1F1CB] rounded bg-emerald-900/40 rounded-md p-2 w-full flex-col gap-1"> 
                <label for="hp-container" class="font-bold font-shadow text-emerald-300 text-xs flex items-center gap-2">
                    <span class="iconify game-icons--shieldcomb w-[20px] h-[20px]"></span>
                    <span class="uppercase tracking-wider font-bold text-xs font-orbritron">{% translate 'Hull points'%}</span>
                </label> 
                <div class="w-full bg-red-600 relative h-[15px] text-start">
                    <div class="bg-blue-600 leading-none h-[15px] absolute" style="width:{% widthratio current_player_state.ship.current_hp current_player_state.ship.max_hp 100 %}%"></div>
                    <span class="absolute w-full z-10 text-center text-xs font-bold font-shadow text-blue-100 text-center justify-center items-center gap-1" id="hp-container-value">
                        <span id="hp-container-value-min">{{current_player_state.ship.current_hp}}</span>/<span id="hp-container-value-max">{{current_player_state.ship.max_hp}}</span>
                    </span>
                </div>
                <label for="movement-container" class="font-bold font-shadow text-emerald-300 text-xs flex items-center gap-2">
                    <span class="iconify game-icons--interceptor-ship w-[20px] h-[20px]"></span>
                    <span class="uppercase tracking-wider font-bold text-xs">{% translate 'Movement points' %}</span>
                </label>
                <div class="w-full bg-red-600 relative h-[15px] text-start">
                    <div class="bg-blue-600 leading-none h-[15px] absolute" style="width:{% widthratio current_player_state.ship.current_movement current_player_state.ship.max_movement 100 %}%" id="movement-percent"></div>
                    <span class="absolute w-full z-10 text-center text-xs font-bold font-shadow text-blue-100 text-center justify-center items-center gap-1" id="movement-container-value">
                        <span id="movement-container-value-min">{{current_player_state.ship.current_movement}}</span>/<span id="movement-container-value-max">{{current_player_state.ship.max_movement}}</span>
                    </span>
                </div>
                <label for="actionPoint-container" class="font-bold font-shadow text-emerald-300 text-xs flex items-center gap-2">
                    <span class="iconify game-icons--targeting w-[20px] h-[20px]"></span>
                    <span class="uppercase tracking-wider font-bold text-xs">{% translate 'Action points' %}</span>
                </label>
                <div class="w-full bg-red-600 relative h-[15px] text-start">
                    <div class="bg-blue-600 leading-none h-[15px] absolute" id="ap-percent" style="width:{% widthratio current_player_state.user.current_ap current_player_state.user.max_ap 100 %}%"></div>
                    <span class="absolute w-full z-10 text-center text-xs font-bold font-shadow text-blue-100 text-center justify-center items-center gap-1" id="actionPoint-container-value">
                        <span id="actionPoint-container-value-min">{{current_player_state.user.current_ap}}</span>/<span id="actionPoint-container-value-max">{{current_player_state.user.max_ap}}</span>
                    </span>
                </div>
            </div>
            <div id="container-basic-stats" class="flex border border-[#B1F1CB] rounded bg-emerald-900/40 rounded-md p-2 w-full flex-col gap-1"> 
                <label for="ballistic-container" class="font-bold font-shadow text-emerald-300 text-xs flex items-center gap-2">
                    <span class="iconify game-icons--shield-reflect w-[20px] h-[20px]"></span>
                    <span class="uppercase tracking-wider text-xs font-bold">{% translate "Ballistic defense" %}</span>
                </label>
                <div class="w-full bg-red-600 relative h-[15px] text-start">
                    <div class="bg-blue-600 leading-none h-[15px] absolute" style="width:{% widthratio current_player_state.ship.current_ballistic_defense current_player_state.ship.max_ballistic_defense 100 %}%"></div>
                    <span class="absolute w-full z-10 text-center text-xs font-bold font-shadow text-blue-100 text-center justify-center items-center gap-1" id="ballistic-container-value">
                        <span id="ballistic-container-value-min">{{current_player_state.ship.current_ballistic_defense}}</span>/<span id="ballistic-container-value-max">{{current_player_state.ship.max_ballistic_defense}}</span>
                    </span>
                </div>
                <label for="thermal-container" class="font-bold font-shadow text-emerald-300 text-xs flex items-center gap-2">
                    <span class="iconify game-icons--laser-warning w-[20px] h-[20px]"></span>
                    <span class="uppercase tracking-wider text-xs font-bold">{% translate "Thermal defense" %}</span>
                </label>
                <div class="w-full bg-red-600 relative h-[15px] text-start">
                    <div class="bg-blue-600 leading-none h-[15px] absolute" style="width:{% widthratio current_player_state.ship.current_thermal_defense current_player_state.ship.max_thermal_defense 100 %}%"></div>
                    <span class="absolute w-full z-10 text-center text-xs font-bold font-shadow text-blue-100 text-center justify-center items-center gap-1" id="thermal-container-value">
                        <span id="thermal-container-value-min">{{current_player_state.ship.current_thermal_defense}}</span>/<span id="thermal-container-value-max">{{current_player_state.ship.max_thermal_defense}}</span>
                    </span>
                </div>
                <label for="missile-container" class="font-bold font-shadow text-emerald-300 text-xs flex items-center gap-2">
                    <span class="iconify game-icons--dragon-shield w-[20px] h-[20px]"></span>
                    <span class="uppercase tracking-wider text-xs font-bold">{% translate "Missile defense" %}</span>
                </label>
                <div class="w-full bg-red-600 relative h-[15px] text-start">
                    <div class="bg-blue-600 leading-none h-[15px] absolute" style="width:{% widthratio current_player_state.ship.current_missile_defense current_player_state.ship.max_missile_defense 100 %}%"></div>
                    <span class="absolute w-full z-10 text-center text-xs font-bold font-shadow text-blue-100 text-center justify-center items-center gap-1" id="missile-container-value">
                        <span id="missile-container-value-min">{{current_player_state.ship.current_missile_defense}}</span>/<span id="missile-container-value-max">{{current_player_state.ship.max_missile_defense}}</span>
                    </span>
                </div>
            </div>
        </fieldset>
        <!-- ACTIONS CARD -->
        <fieldset id="actions-fieldset" class="w-full flex border border-emerald-400/40 rounded-xl bg-emerald-950/40 p-3 shadow-inner shadow-emerald-900/30 max-h-[100px]  select-none overflow-x-hidden">
            <legend class="text-sm uppercase tracking-wider font-bold text-emerald-300 
                        bg-emerald-950/60 border border-emerald-400/40 rounded-md px-2 py-1 shadow-sm font-orbitron">
                {% translate "ACTIONS" %}
            </legend>
        </fieldset>

        <!-- STATUS -->
        <fieldset id="status-fieldset"class="w-full border border-emerald-400/40 rounded-xl bg-emerald-900/30 p-3 shadow-inner shadow-emerald-900/30 flex flex-col gap-2 max-h-[100px] select-none">
            <legend class="text-sm uppercase tracking-wider font-bold text-emerald-300 bg-emerald-950/60 border border-emerald-400/40 rounded-md px-2 py-1 shadow-sm font-orbitron">
                {% translate "Effects" %}
            </legend>
            <div class="text-emerald-400/60 text-center">
                <ul id="player-effects" class="flex flex-col gap-1 break-all wrap-anywhere text-emerald-300">
                    <li class="opacity-70 font-bold text-center animate-pulse" id="empty-effect-state">{% translate "No active effects" %}...</li>  
                </ul>
            </div>
        </fieldset>
        
        <fieldset id="events-log" class="w-full border border-emerald-400/40 rounded-xl bg-emerald-900/30 p-3 shadow-inner shadow-emerald-900/30 flex flex-col gap-1 overflow-y-auto min-h-[150px] max-h-[150px] text-xs font-mono text-emerald-300 thin-semi-transparent-scrollbar">
            <legend class="text-sm uppercase tracking-wider font-bold text-emerald-300 bg-emerald-950/60 border border-emerald-400/40 rounded-md px-2 py-1 shadow-sm font-orbitron">
                {% translate "Events Logs" %}
            </legend>
            <ul id="player-event-container" class="flex flex-col gap-1 break-all wrap-anywhere">
            </ul>
        </fieldset>
    </div>
</div>

<script src="{% url 'core:javascript-catalog' %}"></script>
<script type="module" src="{% static 'world_builder/canvas_engine/main_engine.js' %}"></script>

<script>
    
    let user_is_on_mobile_bool = is_user_is_on_mobile_device();
    let attribute_touch_mouseover = user_is_on_mobile_bool ? 'touchstart' : 'mouseover';
    let attribute_touch_click = user_is_on_mobile_bool ? 'touchstart' : 'onclick';
    let action_listener_touch_click = user_is_on_mobile_bool ? 'touchstart' : 'click';

</script>

<script src="https://code.iconify.design/3/3.1.1/iconify.min.js"></script>  

<script src="{% static 'world_builder/modals/actors/actors_modal_actions_send_report.js' %}"></script>
<script src="{% static 'world_builder/utils/range_utils.js' %}"></script>


<script src="{% static 'world_builder/modals/actors/actors_modal_config.js' %}"></script>
<script src="{% static 'world_builder/modals/actors/actors_modal_utils.js' %}"></script>
<script src="{% static 'world_builder/modals/actors/actors_modal_module_renderer.js' %}"></script>
<script src="{% static 'world_builder/modals/actors/actors_modal_shell.js' %}"></script>
<script src="{% static 'world_builder/modals/actors/actors_modal_data_mapper.js' %}"></script>
<script src="{% static 'world_builder/modals/actors/actors_modal_lifecycle.js' %}"></script>
<script src="{% static 'world_builder/modals/actors/actors_modal_actions.js' %}"></script>

<script src="{% static 'world_builder/modals/actors/actors_modals.js'%}" type='application/javascript'></script>

<script src="{% static 'world_builder/modals/character_modal.js'%}" type='application/javascript'></script>
<script src="{% static 'world_builder/modals/message_modal.js'%}" type='application/javascript'></script>
<script src="{% static 'world_builder/modals/inventory_modal.js'%}" type='application/javascript'></script>
<script src="{% static 'js/game/world_builder/account/logout.js' %}" type="application/javascript"></script>
